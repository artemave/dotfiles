# enable color support of ls and also add handy aliases
if command -v dircolors &> /dev/null; then
    eval "`dircolors -b`"
    alias ls='ls --color=auto'
    alias dir='dir --color=auto'
    alias vdir='vdir --color=auto'

    alias grep='grep --color=auto'
    alias fgrep='fgrep --color=auto'
    alias egrep='egrep --color=auto'
elif [[ `uname` == 'Darwin' ]]; then
    alias ls='ls -GF'
    alias grep='grep --color=auto'
    alias fgrep='fgrep --color=auto'
    alias egrep='egrep --color=auto'
fi

# some more ls aliases
alias ll='ls -l'
alias la='ls -A'
alias fr='fgrep -r'
alias rsd='bundle exec rspec --drb --color spec'
alias cud='bundle exec cucumber --drb'

if command -v mvim &> /dev/null; then
  export EDITOR="mvim -v"
else
  export EDITOR="vim"
fi

parsegitbranch() {
    git branch &>/dev/null;
    if [ $? -eq 0 ]; then
        echo " ($(git branch 2> /dev/null | grep '^*' |sed s/\*\ //))";
    fi
}

function cabalinst() {
    cabal install "$@"
    chmod -R go+rX /usr/local/share/cabal/packages
}

function take() {
  mkdir $1
  cd $1
}

#if command -v vimpager &> /dev/null; then
  #export PAGER="vimpager"
  #alias less=$PAGER 
  #alias zless=$PAGER
#fi

if [ -f ~/.amazon_keys ]; then
  . ~/.amazon_keys
fi

if [ -f ~/.local_env ]; then
  . ~/.local_env
fi

if command -v brew &> /dev/null; then
  export PATH="/usr/local/bin:/usr/local/sbin:$PATH"
  #node.js
  export PATH="/usr/local/share/npm/bin:$PATH"
  export NODE_PATH="/usr/local/lib/node"

  export ANDROID_SDK_ROOT="/usr/local/Cellar/android-sdk/r10"
fi

export PATH="$PATH:$HOME/bin"

if [[ -s ~/.rvm/scripts/rvm ]] ; then
  source ~/.rvm/scripts/rvm
elif [[ -s "/usr/local/rvm/scripts/rvm" ]] ; then
  source "/usr/local/rvm/scripts/rvm"
fi

# find snippet
function fsnip() {
  egrep -r $1 "$HOME/.vim/bundle/snipmate-snippets/snippets/"
}
